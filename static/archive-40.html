<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<head>
	<title>Hazelware</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body vlink='#3173EB' link='#3173EB' leftmargin=0 topmargin=0 marginwidth=0 marginheight=0>
<meta name="ICBM" content="45.30027, -122.9719" />
<meta name="keywords" content="Palm PalmOS WinCE PocketPC PDA Development Wireless" />
<meta name="description" content="Postings from a wireless PDA developer." />
<link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" />
<table border=0 valign=top width=830>
	<TR>
		<TD width=150>
			&nbsp
		</TD>
		<TD width=620>
			<center><IMG SRC="/images/title.jpg" border=0 width=319 height=69></center>
			<br>&nbsp &nbsp &nbsp 

				<b><small>Logged in as <I><A HREF='/login.html'>Guest</A></I> &nbsp Sun, Oct. 21st, 7:33 AM.  &nbsp &nbsp &nbsp </small></b>
		</TD>
		<TD width=60>
			&nbsp
		</TD>
	</TR>
	<TR>
		<TD width=150>

		<TABLE border = 1 cellspacing=0 cellpadding=0><TR><TD>

<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="_top">
<table border="0" bgcolor="#ffffff">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">

</td>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="hazelware.luggle.com"></input>
<input type="text" name="q" size="16" maxlength="255" value=""></input>
</td></tr>
<tr>
<td>&nbsp;</td>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="hazelware.luggle.com"></input>
<font size="-1" color="#000000">hazelware.luggle.com</font>
</td>
</tr>
</table>
<input type="submit" name="sa" value="Google Search"></input>
<input type="hidden" name="client" value="pub-1164091726055367"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1;"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
<!-- SiteSearch Google -->

		</TD></TR></TABLE>


		</TD>
		<TD width=620>
			<TABLE width="100%" align=center>
				<TR>
					<TD width="100%">
						<MAP NAME="linkmap">
							<AREA SHAPE="RECT" COORDS= "10,27,90,52"  HREF="/">
							<AREA SHAPE="RECT" COORDS="100,27,207,52" HREF="/programs/">
							<AREA SHAPE="RECT" COORDS="220,27,328,52" HREF="/tutorials/">
							<AREA SHAPE="RECT" COORDS="338,27,428,52" HREF="/friends/">
							<AREA SHAPE="RECT" COORDS="442,27,509,52" HREF="/links/">
							<AREA SHAPE="RECT" COORDS="517,27,608,52" HREF="mailto:bosshogg@luggle.com">
						</MAP>
						<IMG src="/images/header.jpg" width=619 height=79 USEMAP="#linkmap" border=0>
					</TD>
				</TR>
			</TABLE>

		</TD>
		<TD>
			&nbsp
		</TD>
		<TD>

<script type="text/javascript"><!--
google_ad_client = "pub-1164091726055367";
google_ad_width = 180;
google_ad_height = 60;
google_ad_format = "180x60_as_rimg";
google_cpa_choice = "CAAQqMWkgwIaCAUyS9YT-yjmKMzD4IEBMAA";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

		</TD>	
	</TR>
	
	<TR>
		<TD align=right valign=top>

<script type="text/javascript"><!--
google_ad_client = "pub-1164091726055367";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

		</TD>
		<TD width=620 valign=top>


<style type="text/css">
<!--
A		{text-decoration:none}
a		{text-decoration:none}
A:hover 	{ color: #000000;  }
a:hover 	{ color: #000000;  }
-->
</style>

<TABLE border=0 cellspacing=0 cellpadding=5 width=580 align=center valign=top bordercolor='#ffffff'>
	<TR>
		<TD bgcolor='#ffffff'>
			<HR><CENTER><BIG><BIG><B><a href='/archive-40.html' border=0>My Journey With the NetServices SDK</a></B></BIG></BIG></CENTER>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#ffffff'>
			<FONT COLOR=#000000>
			 I have done quite a bit of work in the past with the NetServices library on the PalmOS (see <A HREF="/wifiwhere/">WiFi-Where</A>), but I recently have been challenged with forcing the TungstenC (or a PDA with the new palmOne WiFi SD card) to connect to a specific 802.11 access point.  What I have found has been quite interesting.<BR>The biggest challenge that I discovered is that there doesn&#39;t appear to be a simple way to programatically tell what (if any) access point a device is connected to.  My first inclination was that there would be an interface(IF) setting that I could query.  I was able to find the netIFSetting80211AccessPointBSSID setting in NetMgr.h.  Unfortunately, that particular setting isn&#39;t supported by the TungstenC.  In fact, I have come to discover that most of the 802.11 IF settings that are defined in NetMgr.h aren&#39;t implemented/supported.  <I>I wonder why they&#39;re even there at all if no one is using them?</I><BR>Anyway, my next bright idea was to perform a scan of all of the available APs, and store their MAC address and ESSID (ESSID = name).  My thought was that I could then take that list of MAC addresses and compare that with some query value in the NetServices API.  I quickly discovered that such a function doesn&#39;t exist.  Not to be undone by missing functions, I thought that perhaps  the NetLibMaster function from the standard NetLibrary (which is used for trace information) could return me a MAC address to compare with.  Sadly, I was shut-out there as well.  <BR>It was at that point that I remembered that there was a separate .h file for some of the &#39;less documented&#39; features of the NetServices library: PalmWiFiCommon.h.  So, I jumped over to that file and discovered the WiFiCustomIFSettings enum and a whole slew of potential IF settings to query.  The most promising setting was the netIFSetting80211StationName value.  <BR>However, I was again frustrated to find that no matter when I queried this value, it seemed to be always static.  Ugh.  <BR>At this point, I reverted to my trusty Palm hacking tool, <A HREF="/palmasaurus/">Palmasaurus</A>.  Now, my favorite feature about <A HREF="/palmasaurus/">Palmasaurus</A> is that I can search for a string throughout the entire PDA.  It can take a while to search through every database on the device, but if I&#39;m looking for something specific (like an AP name) I can generally find it.  The only thing that I found was a database named &#39;WiFiDB&#39;.  It appears that the last record in this database is the name of the last AP that your device connected to.  So, now that I had an idea where this value was stored, I tried connecting to see how this value changed.  The strange thing was that when I tried to connect to the network with NetLibOpen, it tried to connect first to the AP that was named in that DB.  When that failed, it then went systematically through almost every AP that I had ever connected with.  So, I headed back to <A HREF="/palmasaurus/">Palmasaurus</A> to see where this list was stored.  However, my search came up with no results.  In other words, the names of these APs either aren&#39;t stored in the standard databases or they aren&#39;t stored in plain text.  Very strange indeed.  If anyone knows where this list is stored, I would love to know. <BR>Well, that shook my confidence quite a bit in the WiFiDB.  Clearly, I wasn&#39;t going to be able to poke into that DB every time I wanted to know what AP I connected to.   So, I looked in the last place that I could think of: the NetServicesProfileXXX calls.  I had a suspicion all along that my answer might be there, but I am not exaggerating when I say that this family of function calls is one of the  most poorly documented in all of the PalmOS.  Well, after poking around and plodding through it I did find a somewhat hack-ish way to determine what AP if any a device is connected to.  Here&#39;s how I did it:<I><BR>1. Detect if the Network library is open using NetLibConnectionRefresh<BR>2. If the network library is open detect if the WiFi interface is up by querying the netIFSettingUp setting with NetLibIFSettingGet.  If either step 1 or 2 fail, then the device isn&#39;t connected and the check can terminate.<BR>3. Get the ordered list of AP profiles by calling NetServicesProfileGetOrder<BR>4. Use NetServicesProfileRead to read the profile of the first (0 based) index in the list of APs returned in step 3.  The profile returned from the read function will contain the ESSID (name) of the AP.  </I><BR>Whew!  What a journey.  And this is the condensed versions.  I have spared all of the gory details of slogging fruitlessly through the telephony API and the useless newsgroup searches and the endless googling, etc.  In my next post, I will detail my continued journey with how I was able to &#39;force&#39; the PDA to connect to a particular AP.  Stay tuned! 
			</FONT>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#dddddd' align = center colspan=2>
		<i>Submitted by bosshogg on Wednesday the 31st 1970f December 1969, at 04:00</i>
		</TD>
	</TR>
</TABLE>
<BR>
</TD>
<TD width=20>
&nbsp
</TD>
<TD valign=top align=right>
<TABLE border=0 cellspacing=0 cellpadding=0 width=150 align=center valign=top bordercolor='#000000'>
<TR><TD>
<TABLE border=1 cellspacing=0 cellpadding=5 width=100% align=center valign=top bordercolor='#000000'><TR><TD bgcolor='#B5D0FF'><B>Recent Entries:</B></TD></TR>
<TR><TD bgcolor='#ffffff' height=100%>
<small>
<TABLE valign=top align=left>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-98.html'><small>I&#39;m BACK!!!!!!</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-97.html'><small>Code Monkey</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-96.html'><small>Cool 3D Code Snippet From My Former Life</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-95.html'><small>YouTube: The Revival of the Internet Time Killer</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-94.html'><small>WhereMate Released</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-93.html'><small>Palmasaurus Released As Freeware</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-92.html'><small>VM-Plus Beta</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-91.html'><small>Handspring Undocumented APIs</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-90.html'><small>Posting Malaise</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-89.html'><small>PhoneShield Released!!!</small></a></TD></TR>
</TABLE>
</TD></TR>
<TR><TD align=center valign=center>
<A HREF='/rss.xml'><IMG SRC='/images/rss.gif' border=0 width=60 height=14></A>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD><SMALL><SMALL><BR></SMALL></SMALL></TD></TR><TR><TD><TABLE border=1 cellspacing=0 cellpadding=5 width=100% align=center valign=top bordercolor='#000000'><TR><TD bgcolor='#B5D0FF'><B>Archive:</B></TD></TR><TR><TD bgcolor='#ffffff'><A HREF='/archive-2007.10.html'>October - 2007</A><br><A HREF='/archive-2007.8.html'>August - 2007</A><br><A HREF='/archive-2007.7.html'>July - 2007</A><br><A HREF='/archive-2007.6.html'>June - 2007</A><br><A HREF='/archive-2007.5.html'>May - 2007</A><br><A HREF='/archive-2007.4.html'>April - 2007</A><br><A HREF='/archive-2006.12.html'>December - 2006</A><br><A HREF='/archive-2006.11.html'>November - 2006</A><br><A HREF='/archive-2006.9.html'>September - 2006</A><br><A HREF='/archive-2006.8.html'>August - 2006</A><br><A HREF='/archive-2006.7.html'>July - 2006</A><br><A HREF='/archive-2006.3.html'>March - 2006</A><br><A HREF='/archive-2006.2.html'>February - 2006</A><br><A HREF='/archive-2006.1.html'>January - 2006</A><br><A HREF='/archive-2005.12.html'>December - 2005</A><br><A HREF='/archive-2005.11.html'>November - 2005</A><br><A HREF='/archive-2005.10.html'>October - 2005</A><br><A HREF='/archive-2005.9.html'>September - 2005</A><br><A HREF='/archive-2005.8.html'>August - 2005</A><br><A HREF='/archive-2005.7.html'>July - 2005</A><br><A HREF='/archive-2005.6.html'>June - 2005</A><br><A HREF='/archive-2005.5.html'>May - 2005</A><br><A HREF='/archive-2005.4.html'>April - 2005</A><br><A HREF='/archive-2005.2.html'>February - 2005</A><br><A HREF='/archive-2005.1.html'>January - 2005</A><br><A HREF='/archive-2004.12.html'>December - 2004</A><br><A HREF='/archive-2004.11.html'>November - 2004</A><br><A HREF='/archive-2004.10.html'>October - 2004</A><br><A HREF='/archive-2004.9.html'>September - 2004</A><br><A HREF='/archive-2004.8.html'>August - 2004</A><br><A HREF='/archive-2004.7.html'>July - 2004</A><br><A HREF='/archive-2004.6.html'>June - 2004</A><br><A HREF='/archive-2004.5.html'>May - 2004</A><br><A HREF='/archive-2004.4.html'>April - 2004</A><br><A HREF='/archive-2004.3.html'>March - 2004</A><br></TD></TR></TABLE></small>
</TD></TR></TABLE>
		</TD>
	</TR>
</TABLE>
<BR>
<TABLE width=800>
	<TR>
		<TD width=120>
			&nbsp
		</TD>
		<TD>
			<MAP NAME="siteinfo">
				<AREA SHAPE="RECT" COORDS="525,6,545,23" HREF="http://www.redhat.com/">
				<AREA SHAPE="RECT" COORDS="546,6,575,23" HREF="http://www.apache.org/">
				<AREA SHAPE="RECT" COORDS="576,6,607,23" HREF="http://www.php.net/">
			</MAP>
			<IMG SRC="/images/footer.jpg" USEMAP="#siteinfo" border=0 width=619 height=26>
		</TD>
	</TR>
</TABLE>
</body>
</html>


