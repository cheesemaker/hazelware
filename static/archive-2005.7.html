<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<head>
	<title>Hazelware</title>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<LINK REL="SHORTCUT ICON" HREF="logo.ico">
</head>



<body vlink='#3173EB' link='#3173EB' leftmargin=0 topmargin=0 marginwidth=0 marginheight=0>

<meta name="ICBM" content="45.30027, -122.9719" />
<meta name="keywords" content="Palm PalmOS WinCE PocketPC PDA Development Wireless" />
<meta name="description" content="Postings from a wireless PDA developer." />
<link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" />
<style type="text/css">
<!--
A		{text-decoration:none}
a		{text-decoration:none}
A:hover 	{ color: #000000;  }
a:hover 	{ color: #000000;  }
-->
</style>


<table border=0 valign=top width=780>
	<TR>
		<TD width=100 valign=top>
		</TD>

		<!-- Title graphic -->
		<TD width=620 valign=top>
			<center><IMG SRC="/images/title.jpg" border=0 width=319 height=69></center>
			<br>&nbsp &nbsp &nbsp 


				<b><small>Logged in as <I><A HREF='/login.html'>Guest</A></I> &nbsp Fri, Mar. 12th, 5:09 AM.  &nbsp &nbsp &nbsp </small></b>
	
		</TD>
		<TD>
		</TD>
	</TR>
	<TR>

		<!-- Spacer for left border -->
		<TD>
		<!-- MyMap -->
		<a href="http://www.maploco.com/view.php?id=2376202"><img border=0 width=150 height=75 src="http://www.maploco.com/vmap/2376202.png" alt="Visitor Map"></a>
		</TD>

		<!-- Image map for browsing -->
		<TD width=620 valign=top>
			<TABLE width="100%" align=center valign=top>
				<TR>
					<TD width="100%">
						<MAP NAME="linkmap">
							<AREA SHAPE="RECT" COORDS= "10,27,90,52"  HREF="/">
							<AREA SHAPE="RECT" COORDS="100,27,207,52" HREF="/programs/">
							<AREA SHAPE="RECT" COORDS="220,27,328,52" HREF="/tutorials/">
							<AREA SHAPE="RECT" COORDS="338,27,428,52" HREF="/friends/">
							<AREA SHAPE="RECT" COORDS="442,27,509,52" HREF="/links/">
							<AREA SHAPE="RECT" COORDS="517,27,608,52" HREF="mailto:bosshogg@luggle.com">
						</MAP>
						<IMG src="/images/header.jpg" width=619 height=79 USEMAP="#linkmap" border=0>
					</TD>
				</TR>
			</TABLE>

		</TD>

		<TD>
		</TD>

		<TD>
		</TD>	
	</TR>
	
	<TR>
		<TD align=right valign=top>

		<TABLE border=0 cellspacing=0 cellpadding=0 width=150 align=center valign=top bordercolor='#000000'>
<TR><TD>
<TABLE border=1 cellspacing=0 cellpadding=5 width=100% align=center valign=top bordercolor='#000000'><TR><TD bgcolor='#B5D0FF'><B>Recent Entries:</B></TD></TR>
<TR><TD bgcolor='#ffffff' height=100%>
<small>
<TABLE valign=top align=left>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-127.html'><small>My Dev Setup Lately</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-126.html'><small>Three Ways To Randomize on the iPhone</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-125.html'><small>How to Remove .svn Directories On a Mac</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-124.html'><small>How To Detect The iPhone Simulator</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-123.html'><small>iPhoneMom Likes Doodle Games!</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-122.html'><small>Updates To the Doodle Games Line</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-120.html'><small>Three Jacks Now Tweets</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-119.html'><small>Second iPhone App Submitted For Approval!</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-118.html'><small>Pinch Media Analytics for iPhone</small></a></TD></TR>
<TR><TD valign=top>
<IMG SRC='/images/smallbullet.gif' width=7 height=13></TD><TD>
<a href='/archive-117.html'><small>New iPhone Game Coming Soon!</small></a></TD></TR>
</TABLE>
</TD></TR>
<TR><TD align=center valign=center>
<A HREF='/rss.xml'><IMG SRC='/images/rss.gif' border=0 width=60 height=14></A>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD><SMALL><SMALL><BR></SMALL></SMALL></TD></TR><TR><TD><TABLE border=1 cellspacing=0 cellpadding=5 width=100% align=center valign=top bordercolor='#000000'><TR><TD bgcolor='#B5D0FF'><B>Archive:</B></TD></TR><TR><TD bgcolor='#ffffff'><A HREF='/archive-2010.1.html'>January - 2010</A><br><A HREF='/archive-2009.11.html'>November - 2009</A><br><A HREF='/archive-2009.10.html'>October - 2009</A><br><A HREF='/archive-2009.9.html'>September - 2009</A><br><A HREF='/archive-2009.8.html'>August - 2009</A><br><A HREF='/archive-2009.7.html'>July - 2009</A><br><A HREF='/archive-2009.6.html'>June - 2009</A><br><A HREF='/archive-2009.4.html'>April - 2009</A><br><A HREF='/archive-2009.3.html'>March - 2009</A><br><A HREF='/archive-2009.1.html'>January - 2009</A><br><A HREF='/archive-2008.5.html'>May - 2008</A><br><A HREF='/archive-2008.4.html'>April - 2008</A><br><A HREF='/archive-2008.3.html'>March - 2008</A><br><A HREF='/archive-2007.10.html'>October - 2007</A><br><A HREF='/archive-2007.8.html'>August - 2007</A><br><A HREF='/archive-2007.7.html'>July - 2007</A><br><A HREF='/archive-2007.6.html'>June - 2007</A><br><A HREF='/archive-2007.5.html'>May - 2007</A><br><A HREF='/archive-2007.4.html'>April - 2007</A><br><A HREF='/archive-2006.12.html'>December - 2006</A><br><A HREF='/archive-2006.11.html'>November - 2006</A><br><A HREF='/archive-2006.9.html'>September - 2006</A><br><A HREF='/archive-2006.8.html'>August - 2006</A><br><A HREF='/archive-2006.7.html'>July - 2006</A><br><A HREF='/archive-2006.3.html'>March - 2006</A><br><A HREF='/archive-2006.2.html'>February - 2006</A><br><A HREF='/archive-2006.1.html'>January - 2006</A><br><A HREF='/archive-2005.12.html'>December - 2005</A><br><A HREF='/archive-2005.11.html'>November - 2005</A><br><A HREF='/archive-2005.10.html'>October - 2005</A><br><A HREF='/archive-2005.9.html'>September - 2005</A><br><A HREF='/archive-2005.8.html'>August - 2005</A><br><A HREF='/archive-2005.7.html'>July - 2005</A><br><A HREF='/archive-2005.6.html'>June - 2005</A><br><A HREF='/archive-2005.5.html'>May - 2005</A><br><A HREF='/archive-2005.4.html'>April - 2005</A><br><A HREF='/archive-2005.2.html'>February - 2005</A><br><A HREF='/archive-2005.1.html'>January - 2005</A><br><A HREF='/archive-2004.12.html'>December - 2004</A><br><A HREF='/archive-2004.11.html'>November - 2004</A><br><A HREF='/archive-2004.10.html'>October - 2004</A><br><A HREF='/archive-2004.9.html'>September - 2004</A><br><A HREF='/archive-2004.8.html'>August - 2004</A><br><A HREF='/archive-2004.7.html'>July - 2004</A><br><A HREF='/archive-2004.6.html'>June - 2004</A><br><A HREF='/archive-2004.5.html'>May - 2004</A><br><A HREF='/archive-2004.4.html'>April - 2004</A><br><A HREF='/archive-2004.3.html'>March - 2004</A><br></TD></TR></TABLE></small>
</TD></TR></TABLE>

		</TD>
		<TD width=620 valign=top>


<style type="text/css">
<!--
A		{text-decoration:none}
a		{text-decoration:none}
A:hover 	{ color: #000000;  }
a:hover 	{ color: #000000;  }
-->
</style>

<TABLE border=0 cellspacing=0 cellpadding=5 width=580 align=center valign=top bordercolor='#ffffff'>
	<TR>
		<TD bgcolor='#ffffff'>
			<HR><CENTER><BIG><BIG><B><a href='/archive-78.html' border=0>Ubuntu Rules, Fedora Drools</a></B></BIG></BIG></CENTER>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#ffffff'>
			<FONT COLOR=#000000>
			 Hopefully, nobody really noticed, but <A HREF="http://jonah.luggle.com">Jonah</A> and I finally moved our aging Red Hat server to the very friendly <A HREF="http://www.ubuntu.com">Ubuntu Linux distribution</A>.  Previously, <A HREF="http://www.luggle.com">Luggle</A> had been hosted on <A HREF="http://fedora.redhat.com/">Fedora Core<A>, and unfortunately, it was really starting to show its age.  <BR>If you haven&#39;t heard of Ubuntu, you really should take a peak at what <A HREF="http://en.wikipedia.org/wiki/Mark_Shuttleworth">Mark Shuttleworth</A> and company have put together.  In a nutshell, Ubuntu is built around <A HREF="http://www.debian.org/">Debian</A> with a focus on being user-friendly.  (If you&#39;re unfamiliar with Debian, it is Linux with a focus on easy upgrades.)
<BR>I have many opinions about using Linux as a desktop installation, and while I still think that the whole experience isn&#39;t quite ready for the &#39;average joe&#39;, I do believe that Ubuntu has advanced the cause considerably.  I even went so far as to try my litmus test, which you can read about <A HREF="/archive-47.html">here</A>.
<BR>Well, that&#39;s about it for tonight.  Cheers!
<BR>
<BR>-Jon 
			</FONT>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#dddddd' align = center colspan=2>
		<i>Submitted by bosshogg on Sunday the 24th of July 2005, at 09:45 pm</i>
		</TD>
	</TR>
</TABLE>
<BR>

<TABLE border=0 cellspacing=0 cellpadding=5 width=580 align=center valign=top bordercolor='#ffffff'>
	<TR>
		<TD bgcolor='#ffffff'>
			<HR><CENTER><BIG><BIG><B><a href='/archive-77.html' border=0>Follow On Article About Retrieving Assigned IP Addresses</a></B></BIG></BIG></CENTER>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#ffffff'>
			<FONT COLOR=#000000>
			 In a <A HREF="/archive-62.html">
previous post about inspecting network connection settings on the PalmOS,</A> I presented one piece of very incorrect/misleading information of particular interest to developers working on networked applications.  I presented a code snippet to retrieve the assigned IP address when connecting via DHCP to a server.  (Giving credit where credit is due, my error was very kindly pointed out to me by <A HREF="www.metaviewsoft.de">Henk Jonas</A>.)  
<BR>In my previous article, the snippet showed that you could retrieve the assigned IP address simply by querying the netIFSettingActualIPAddr using NetLibSettingGet().  In fact, the problem is slightly more complicated.  The method that Henk pointed me to is implemented by looping through the NetLib interfaces after a connection has been established.  While looping through the interfaces, you must look for the ones that are up and that are not the loopback interface.  Once you have found an interface that is up, only then can you query netIFSettingActualIPAddr using NetLibIFSettingGet().  <BR>Here is one way to implement this:
<BR> 
<PRE>
UInt16 index = 0;
Err err = errNone;
while (err == errNone)
{
    UInt16 idx;
    UInt32 creatorID;
    UInt16 instance;
	
    //Retrieve the creator ID and instance of the indexed Interface
    err = NetLibIFGet(netLibRefNum, index, &creatorID, &instance);
    if (err == errNone)
    {
        //Check to see if the interface is up
        UInt8 isUp = false;
        UInt16 size = sizeof(isUp);
        NetLibIFSettingGet(netLibRefNum, 
                           creatorID, 
                           instance, 
                           netIFSettingUp,
                           &isUp,
                           &size);
			
        //Make sure the interface is up and is not the 
        //loopback interface
        if (isUp && creatorID != &#39;loop&#39;)
        {
            //Once we get here, it&#39;s simply a matter of 
            //grabbing the IP address
            UInt32 address;
            size = sizeof(address);
            NetLibIFSettingGet(netLibRefNum, 
                               creatorID, 
                               instance,
                               netIFSettingActualIPAddr, 
                               &address, 
                               &size);

            //Once you get here, you have to do something 
            //with the IP address.  Do you just get the 
            //first one and stop, or do you want all the
            //assigned IP addresses of Up Interfaces?  
            //That determines whether or not you want to 
            //break out of this loop.  I leave that as an
            //exercise for the reader.  -Jon
        }
     
        //Go on to the next Interface
        index++;
    }
} 
</PRE>
<BR>As always, I hope this helps you in your endeavors, and if you feel like it, <A HREF="mailto:bosshogg@luggle.com">I&#39;d love to hear about it!</A>
<BR>
<BR>-Jon 
			</FONT>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#dddddd' align = center colspan=2>
		<i>Submitted by bosshogg on Saturday the 09th of July 2005, at 07:21 pm</i>
		</TD>
	</TR>
</TABLE>
<BR>

<TABLE border=0 cellspacing=0 cellpadding=5 width=580 align=center valign=top bordercolor='#ffffff'>
	<TR>
		<TD bgcolor='#ffffff'>
			<HR><CENTER><BIG><BIG><B><a href='/archive-76.html' border=0>WiFi-Where Now Supports the Lifedrive and Gets a User Review</a></B></BIG></BIG></CENTER>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#ffffff'>
			<FONT COLOR=#000000>
			 As a more practical follow up to <A HREF="/archive-75.html">my previous posting</A>, I have updated <A HREF="/wifiwhere/">WiFi-Where</A> to support the <A HREF="http://www.palmone.com/us/products/mobilemanagers/lifedrive/">Lifedrive</A>.  On a related note, <A HREF="/wifiwhere/">WiFi-Where</A> is now available for purchase on <A HREF="http://www.palmgear.com/index.cfm?fuseaction=software.showsoftware&PartnerREF=&siteid=1&prodID=104368">Palmgear</A> as well as <A HREF="http://www.handango.com/PlatformProductDetail.jsp?productType=2&optionId=1_1_2&jid=666D56D4X3B4B46E29F1E9AD7D6BEED4&platformId=1&siteId=1&productId=166128&sectionId=0&catalog=1&txtSearch=wifi-where&pc=list%5B1%5D_title">Handango</A>.  I hope to write up my experiences dabbling in the world of shareware authors soon.  (Suffice it to say, I won&#39;t be quitting my day job anytime soon.)  However, I did get my first review on Handango and they gave me 5 stars!!!
<BR>
<BR><I>"This is one of the best appz that I have on my TC, it easily beat´s Netchaser. With this program I have ploted the open wifi-points in my homecity and shared them with my friend. He has done the same in the city he life in for easy wifi access...."</I>
<BR>
<BR>Nice!
<BR>
<BR>-Jon 
			</FONT>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#dddddd' align = center colspan=2>
		<i>Submitted by bosshogg on Thursday the 07th of July 2005, at 12:09 am</i>
		</TD>
	</TR>
</TABLE>
<BR>

<TABLE border=0 cellspacing=0 cellpadding=5 width=580 align=center valign=top bordercolor='#ffffff'>
	<TR>
		<TD bgcolor='#ffffff'>
			<HR><CENTER><BIG><BIG><B><a href='/archive-75.html' border=0>The Lifedrive and the NetServices Library</a></B></BIG></BIG></CENTER>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#ffffff'>
			<FONT COLOR=#000000>
			 The NetServices library is used on both the Tungsten C and the WiFi SD card from palmOne to control the 802.11 radio.  The new Lifedrive from palmOne also sports an 802.11 radio and when I finally got my hands on one the other day, I was pleased to see that it also supports the NetServices API.  However, as I played with it, I discovered a few differences that I will share here.
<BR>
<BR>The first difference is that the NetServicesProfile structure (used to retrieve and store specific settings related to establishing a connection) is now larger than the one that is currently documented.  The structure is documented/defined in PalmNetServices.h, however, the size of the structure that is written to by the NetServicesProfileRead function is larger.  To illustrate this, the following code doesn&#39;t work on the Lifedrive because it corrupts the stack:
<BR>
<BR><B>Example 1:</B>
<PRE>
    NetServicesProfile profile;
    NetServicesProfileRead(netServicesLib, 0, &profile);
</PRE>
The proper way to use the NetServicesProfile structure is to query its size using NetServicesProfileGetInfo() which will fill a NetServicesProfileInfo structure with general information about profiles on a device.  The NetServicesProfileInfo structure then contains the size of the NetServicesProfile structure in the profileEntrySize member.  As I write that, I realize it probably is a little unclear, so here is a little sample code to illustrate the proper way to do this:
<BR>
<BR><B>Example 2:</B>
<PRE>
    NetServicesProfile* profile;
    NetServicesProfileInfo profileInfo;

    NetServicesProfileGetInfo(netServicesLib, &profileInfo);
    profile=(NetServicesProfile*)MemPtrNew(profileInfo.profileEntrySize);
    NetServicesProfileRead(netServicesLib, 0, profile);

    //Use profile here...

    MemPtrFree(profile);
</PRE>
In retrospect, this is the way that I should have been using NetServicesProfileRead all along, however, I must say that the very sparse documentation on the NetServices API didn&#39;t help my cause.  If you know what the new definition of the NetServicesProfile structure is, <A HREF="mailto:bosshogg@luggle.com">I&#39;d love to know!</A>
<BR>
<BR>The second major difference that I found relates to the <A HREF="http://en.wikipedia.org/wiki/Rssi">RSSI</A> (receiver signal strength indicator) values that are returned from a WiFi scan.  Previously, the RSSI values ranged from 0 to -100 where 0 is the theoretically best RSSI value.  On the Lifedrive, however, the returned values ranged from between 250 and 350.  Now, these values aren&#39;t documented anywhere that I could find and are values that I discovered only through experimentation so your results may vary.  Because of these differences, I had to change my <A HREF="/wifiwhere/">WiFi-Where</A> code to normalize the returned RSSI values.  For reference, here&#39;s my implementation:
<BR>
<BR><B>Example 3:</B>
<PRE>

    Int32 NormalizeRSSI(NetBssInfoType* info)
    {
        Int32 rssi;
        BssInfoRssi(info, &rssi);
 		
        UInt32 deviceID =  0xFFFFFFFF;
        if (errNone != FtrGet(sysFtrCreator,            
                              sysFtrNumOEMDeviceID, 
                              &deviceID))
        {
            deviceID = 0xFFFFFFFF;
        }
    
        if (deviceID == &#39;TunX&#39;)
        {
            //LifeDrive = 250-350  normalized to 10% - 70%	
            rssi -= 150;
            rssi *= 70;
            rssi /= 100;
        }
        else 
        {
            //Put value into the positive range...
            rssi += 100;
        }

        return rssi;
    }

</PRE>
So far, these are the only major differences that I could find.  I&#39;m sure that there are others that I simply haven&#39;t stumbled upon yet.  I will update as I discover more.  If you have found other differences in the NetServices implementation, or can fill in the backstory behind these differences, <A HREF="mailto:bosshogg@luggle.com">I&#39;d love to hear about it!</A>
<BR>
<BR>-Jon 
			</FONT>
		</TD>
	</TR>
	<TR>
		<TD bgcolor='#dddddd' align = center colspan=2>
		<i>Submitted by bosshogg on Monday the 04th of July 2005, at 11:42 pm</i>
		</TD>
	</TR>
</TABLE>
<BR>
</TD>
<TD width=20>
&nbsp
</TD>
<TD valign=top align=right>
		</TD>
	</TR>
</TABLE>
<BR>
<TABLE width=800>
	<TR>
		<TD width=120>
			&nbsp
		</TD>
		<TD>
			<MAP NAME="siteinfo">
				<AREA SHAPE="RECT" COORDS="525,6,545,23" HREF="http://www.redhat.com/">
				<AREA SHAPE="RECT" COORDS="546,6,575,23" HREF="http://www.apache.org/">
				<AREA SHAPE="RECT" COORDS="576,6,607,23" HREF="http://www.php.net/">
			</MAP>
			<IMG SRC="/images/footer.jpg" USEMAP="#siteinfo" border=0 width=619 height=26>
		</TD>
	</TR>
</TABLE>
</body>
</html>


